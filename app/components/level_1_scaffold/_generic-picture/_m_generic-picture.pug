mixin generic-picture(genericPicture_props)
  -
    const getPictureData = function (props) {
      const { path, ext, mediaSet } = props;
      const lastIndex = mediaSet.length - 1;
      let finalSet = { srcset: '', sizes: '' };

      finalSet.src = `img/${path}@${mediaSet[lastIndex]}.${ext}`;

      for (let i = 0; i <= lastIndex; i += 1) {
        if (i < lastIndex) {
          const [mq, width] = mediaSet[i];
          const srcToAdd =
            `img/${path}@${width}.${ext} ${width}w, `;
          const sizeToAdd = `${_MAX_VIEWPORTS[mq]} ${width}px, `;
          finalSet.srcset += srcToAdd;
          finalSet.sizes += sizeToAdd;
        } else {
          const srcToAdd =
            `img/${path}@${mediaSet[i]}.${ext} ${mediaSet[i]}w`;
          finalSet.srcset += srcToAdd;
          finalSet.sizes += `${mediaSet[i]}px`;
        }
      }

      return finalSet;
    };
    const { srcset, sizes, src } = getPictureData(genericPicture_props);

  picture(class=[
    'generic-picture',
    (
      attributes.modifier
      ? `generic-picture--${modifier}`
      : null
    ),
    attributes.class,
  ])
    img.generic-picture__image(
      srcset=srcset,
      sizes=sizes,
      src=src,
      alt=genericPicture_props.alt,
    )
